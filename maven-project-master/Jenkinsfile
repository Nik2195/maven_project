pipeline{
  
  agent{
    label 'dev'
  }
  
  parameters {
  choice choices: ['dev', 'prod'], name: 'Server_test'
  }

  environment {
  NAME = "NIKHIL"
  }
  
  tools {
  maven 'maven_test'
  }

  stages{
  
    stage('build')
    {
      steps {
        sh 'mvn clean package'
        echo "hi $NAME"
      }
    }

    stage('test')
    {
      parallel {
        stage ('testA') 
        {
          steps
          {
              echo "This is step A"
          }
        }
        stage ('testB')
      
        {
          steps
          {
            echo "This is step B"
          }
        }

      }      

    }

  }  
  
}