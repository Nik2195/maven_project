pipeline
{
agent {
  label 'dev'
}

parameters {
  string defaultValue: 'Richard', name: 'LAST'
}

environment{
  NAME = "NIKHIL"
}

tools {
  maven 'maven_test'
}

stages{

    stage ('build')
    {
        steps{
          script {
              dir('maven-project-master/') {
                sh 'mvn clean package'
                echo "hello $NAME ${params.LAST}"
        }
        }
        }
    }

}
}
    stage ('build')
    {
        parallel {
            stage('testA')
          {
              steps{
              echo "This is test A"
              }
          }
          stage('testB')
          {
              steps{
              echo "This is test B"
              }
          }
        }

   post {
        success {
            archiveArtifacts artifacts: '**/target/*.war'
                }
            }
    }